import{r as f,g as b,d as w,w as D,q as v,t as S,al as B,x as r,y as c,V as N,f as u,aa as j,a6 as _,S as h,am as d,an as y,z as m,a7 as x,ao as k,_ as M,a4 as O}from"./index.10c8caa7.js";const q=()=>!0;function z(s){const n={};return s.forEach(a=>{n[a]=q}),n}function p(){const{emit:s,proxy:n}=b(),a=f(null);function l(){a.value.show()}function e(){a.value.hide()}function t(o){s("ok",o),e()}function i(){s("hide")}return Object.assign(n,{show:l,hide:e}),{dialogRef:a,onDialogHide:i,onDialogOK:t,onDialogCancel:e}}const C=["ok","hide"];p.emits=C;p.emitsObject=z(C);const I={class:"q-pa-md notification-container"},P={class:"row justify-between items-center"},A={class:"message-content"},Q={class:"column justify-start items-start q-ml-sm"},T={class:"text-white textSize-h5"},V={key:0,class:"text-white"},E={key:0,class:"row justify-end items-center q-mt-md"},R=w({__name:"NoticeMessage",props:{type:{},deleteConfirmStatus:{type:Boolean,default:!1},message:{},content:{}},setup(s){const{dialogRef:n,onDialogOK:a}=p(),l=s,e=f(""),t=f(""),i=()=>{switch(l.type){case"info":t.value="campaign",e.value="info";break;case"black":t.value="check_circle_outline",e.value="black";break;case"positive":t.value="error_outline",e.value="positive";break;case"negative":t.value="error_outline",e.value="negative";break;case"warning":t.value="notifications_none",e.value="warning";break}};return D(()=>l.type,o=>{!o||i()},{immediate:!0}),(o,F)=>(r(),v(B,{ref_key:"dialogRef",ref:n},{default:S(()=>[c("div",I,[c("div",{class:N(`bg-${e.value} message`)},[c("div",P,[c("div",A,[u(j,{name:t.value,size:"2rem",color:"white"},null,8,["name"]),c("div",Q,[c("p",T,_(o.message),1),o.content?(r(),h("span",V,_(o.content),1)):d("",!0)])]),o.deleteConfirmStatus?d("",!0):y((r(),v(m,{key:0,class:"bg-white message-btn q-ml-lg",flat:"",round:"",icon:"close",color:e.value},null,8,["color"])),[[k]])]),o.deleteConfirmStatus?(r(),h("div",E,[y(u(m,{"no-caps":"",class:"guide-btn darken-hover textSize-16",color:e.value,label:"\u53D6\u6D88"},null,8,["color"]),[[k]]),u(m,{"no-caps":"",class:"guide-btn darken-hover textSize-16",color:e.value,label:"\u78BA\u5B9A",onClick:x(a)},null,8,["color","onClick"])])):d("",!0)],2)])]),_:1},512))}});var g=M(R,[["__scopeId","data-v-1546f388"]]);const $=()=>{const s=O(),n=e=>!["positive","negative"].includes(e.type)&&e.deleteConfirmStatus?(s.dialog({component:g,componentProps:{type:"negative",message:"\u8ACB\u78BA\u8A8D type \u8DDF deleteConfirmStatus \u5C6C\u6027 "}}),!0):!1;return{confirmMessage:e=>new Promise((t,i)=>{if(!n(e))try{const o=s.dialog({component:g,componentProps:{type:e.type,deleteConfirmStatus:e.deleteConfirmStatus,message:e.message,content:e.content}});o.onOk(()=>{t(!0)}),o.onCancel(()=>{t(!1)}),o.onDismiss(()=>{t(!1)})}catch(o){console.error("useDialog failed:",o),i(o)}}),showNoticeMessage:e=>{if(!n(e))try{const t=s.dialog({component:g,componentProps:{type:e.type,deleteConfirmStatus:e.deleteConfirmStatus,message:e.message,content:e.content}}),i=setTimeout(()=>{t.hide()},1500);t.onCancel(()=>{clearTimeout(i)})}catch(t){console.error("useDialog failed:",t)}}}};export{p as a,$ as u};
